{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","filter","cartItem","id","payload","tempCart","map","amount","reduce","cartTotal","price","itemTotal","total","parseFloat","toFixed","loading","AppContext","React","createContext","initialState","title","img","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","response","json","useEffect","Provider","value","clearCart","remove","increase","decrease","toggleAmount","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","item","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eb8b34cf.chunk.js","sourcesContent":["const reducer = (state,action)=> {\r\nif(action.type === 'CLEAR_CART'){\r\n\treturn { ...state, cart: [] }\r\n}\r\nif (action.type === 'REMOVE'){\r\n\treturn {\r\n\t\t...state,\r\n\t\t cart: state.cart.filter((cartItem)=> cartItem.id !== action.payload),\r\n\t}\r\n}\r\nif(action.type === 'INCREASE'){\r\n\tlet tempCart = state.cart.map((cartItem)=>{\r\n\tif(cartItem.id === action.payload) {\r\n\t\treturn {...cartItem, amount: cartItem.amount+1}\r\n\t} \r\n\treturn cartItem\r\n});\r\n\treturn {...state, cart: tempCart}\r\n}\r\n\r\nif(action.type === 'DECREASE'){\r\n\tlet tempCart = state.cart\r\n\t.map((cartItem)=>{\r\n\tif(cartItem.id === action.payload) {\r\n\t\treturn {...cartItem, amount: cartItem.amount-1}\r\n\t} \r\n\treturn cartItem\r\n}).filter((cartItem)=> cartItem.amount !== 0)\r\n\treturn {...state, cart: tempCart}\r\n}\r\n\r\nif(action.type === 'GET_TOTALS'){\r\nlet {total, amount} = state.cart.reduce((cartTotal, cartItem)=> {\r\n\tconst { price,amount } = cartItem;\r\n\tconst itemTotal = price*amount;\r\n\r\n\tcartTotal.total += itemTotal;\r\n\tcartTotal.amount += amount;\r\n\treturn cartTotal\r\n}, {\r\n\ttotal: 0,\r\n\tamount: 0\r\n}\r\n)\r\n\r\ntotal = parseFloat(total.toFixed(2))\r\n\treturn {...state, total, amount}\r\n}\r\n\r\nif(action.type === 'LOADING'){\r\n\treturn {...state, loading: true}\r\n}\r\nif(action.type === 'DISPLAY_ITEMS'){\r\n\treturn {...state, cart: action.payload, loading: false}\r\n}\r\n\r\n//ALTERNATIVE CODE FOR INCREAS/DECREASE\r\n// if(action.type === 'TOGGLE_AMOUNT'){\r\n// \tlet tempCArt = state.cart.map((cartItem)=> {\r\n// \t\tif(cartItem.id === action.payload.id){\r\n// \t\t\tif(action.payload.type === 'inc'){\r\n// \t\t\t\treturn {...cartItem, amount: cartItem.amount+1 }\r\n// \t\t\t}\r\n// \t\t\tif(action.payload.type === 'dec'){\r\n// \t\t\t\treturn {...cartItem, amount: cartItem.amount-1 }\r\n// \t\t\t}\r\n// \t\t} return cartItem\r\n// \t})\r\n// \t.filter((cartItem)=> cartItem.id !== 0),\r\n// \treturn {...state, cart: tempCart}\r\n// }\r\n\treturn state \r\n\r\n\r\n}\r\n\r\nexport default reducer","import React, { useState, useContext, useReducer, useEffect } from 'react'\r\nimport cartItems from './data'\r\nimport reducer from './reducer'\r\n// ATTENTION!!!!!!!!!!\r\n// I SWITCHED TO PERMANENT DOMAIN\r\nconst url = 'https://course-api.com/react-useReducer-cart-project'\r\nconst AppContext = React.createContext()\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  cart: cartItems,\r\n  total: 0,\r\n  amount: 0\r\n}\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer,initialState)\r\n  const clearCart=()=>{\r\n    dispatch({type: 'CLEAR_CART'})\r\n  }\r\n\r\n  const remove=(id)=>{\r\n    dispatch({type: 'REMOVE', payload: id})\r\n  }\r\n\r\n  const increase=(id)=> {\r\n    dispatch({type: \"INCREASE\", payload: id})\r\n  }\r\n\r\n   const decrease=(id)=> {\r\n    dispatch({type: \"DECREASE\", payload: id})\r\n  }\r\n\r\n  const fetchData=async()=> {\r\n    dispatch({type: 'LOADING'});\r\n    const response = await fetch(url);\r\n    const cart = await response.json();\r\n    dispatch({type: 'DISPLAY_ITEMS', payload: cart})\r\n  }\r\n\r\nconst toggleAmount=(id,type)=>{\r\n  dispatch({type:'TOGGLE_AMOUNT', payload:{id,type}})\r\n}\r\n\r\nuseEffect(()=>{\r\n  dispatch({type: 'GET_TOTALS'})\r\n}, [state.cart])  \r\n\r\nuseEffect(()=>{\r\n  fetchData()\r\n}, [])\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        ...state,\r\n        clearCart,\r\n        remove,\r\n        increase,\r\n        decrease,\r\n        fetchData,\r\n        toggleAmount\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  )\r\n}\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext)\r\n}\r\n\r\nexport { AppContext, AppProvider }","export default [\r\n  {\r\n    id: 1,\r\n    title: 'Samsung Galaxy S7',\r\n    price: 599.99,\r\n    img:\r\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\r\n    amount: 1,\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'google pixel ',\r\n    price: 499.99,\r\n    img:\r\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\r\n    amount: 1,\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Xiaomi Redmi Note 2',\r\n    price: 699.99,\r\n    img:\r\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\r\n    amount: 1,\r\n  },\r\n];","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\nconst Navbar = () => {\r\n   const { amount } = useGlobalContext()\r\n  return (\r\n    <nav>\r\n      <div className='nav-center'>\r\n        <h3>useReducer</h3>\r\n        <div className='nav-container'>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\r\n          </svg>\r\n          <div className='amount-container'>\r\n            <p className='total-amount'>{amount}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar","import React from 'react'\r\nimport { useGlobalContext } from './context'\r\n\r\nconst CartItem = ({ id, img, title, price, amount }) => {\r\n  const {remove, increase, decrease} = useGlobalContext();\r\n  return (\r\n    <article className='cart-item'>\r\n      <img src={img} alt={title} />\r\n      <div>\r\n        <h4>{title}</h4>\r\n        <h4 className='item-price'>${price}</h4>\r\n        {/* remove button */}\r\n        <button\r\n          className='remove-btn'\r\n          onClick={()=>remove(id)}\r\n        >\r\n          remove\r\n        </button>\r\n      </div>\r\n      <div>\r\n        {/* increase amount */}\r\n        <button className='amount-btn' onClick={() => increase(id)}>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\r\n          </svg>\r\n        </button>\r\n        {/* amount */}\r\n        <p className='amount'>{amount}</p>\r\n        {/* decrease amount */}\r\n        <button className='amount-btn' onClick={() => decrease(id)}>\r\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\r\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default CartItem","import React from 'react'\r\nimport CartItem from './CartItem'\r\nimport { useGlobalContext } from './context'\r\n\r\nconst CartContainer = () => {\r\n  const { cart, total, clearCart } = useGlobalContext()\r\n  if (cart.length === 0) {\r\n    return (\r\n      <section className='cart'>\r\n        {/* cart header */}\r\n        <header>\r\n          <h2>your bag</h2>\r\n          <h4 className='empty-cart'>is currently empty</h4>\r\n        </header>\r\n      </section>\r\n    )\r\n  }\r\n  return (\r\n    <section className='cart'>\r\n      {/* cart header */}\r\n      <header>\r\n        <h2>your bag</h2>\r\n      </header>\r\n      {/* cart items */}\r\n      <div>\r\n        {cart.map((item) => {\r\n          return <CartItem key={item.id} {...item} />\r\n        })}\r\n      </div>\r\n      {/* cart footer */}\r\n      <footer>\r\n        <hr />\r\n        <div className='cart-total'>\r\n          <h4>\r\n            total <span>${total}</span>\r\n          </h4>\r\n        </div>\r\n        <button\r\n          className='btn clear-btn'\r\n          onClick={clearCart}\r\n        >\r\n          clear cart\r\n        </button>\r\n      </footer>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default CartContainer","import React from 'react'\nimport { useGlobalContext } from './context'\n\n// components\nimport Navbar from './Navbar'\nimport CartContainer from './CartContainer'\n// items\n\nfunction App() {\n   const { loading } = useGlobalContext()\n  if (loading) {\n    return (\n      <div className='loading'>\n        <h1>Loading...</h1>\n      </div>\n    )\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  )\n}\n\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { AppProvider } from './context';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppProvider>\r\n      <App />\r\n    </AppProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}